<div class="m-3 card shadow-lg">
    <div class="card-header"> 
      <div class="row fs-5">
        <div class="col-md-10 mt-2">
          <span *ngIf="IsAddSection">Add New Customer</span>
          <span *ngIf="!IsAddSection">Customer Master</span>
        </div>
        <div class="col-md-2 text-end">
          <button class="btn btn-outline-primary" (click)="AddBtnClick()">
            <span *ngIf="IsAddSection">Back</span>
            <span *ngIf="!IsAddSection">New</span>
          </button>
        </div>
      </div>
  </div>
      <div class="card-body">
        <div class="mx-3 my-2">
          <ng-template [ngIf]="!IsAddSection">
            <div>
              <mat-table #table [dataSource]="this.dataSource">
                <ng-container matColumnDef="customername">
                  <mat-header-cell *matHeaderCellDef>Customer Name</mat-header-cell>
                  <mat-cell *matCellDef="let item">{{item.customername}}</mat-cell>
                </ng-container>
                <ng-container matColumnDef="mobileno">
                  <mat-header-cell *matHeaderCellDef>Mobile No</mat-header-cell>
                  <mat-cell *matCellDef="let item">{{item.mobileno}}</mat-cell>
                </ng-container>
                <ng-container matColumnDef="action">
                  <mat-header-cell *matHeaderCellDef>action</mat-header-cell>
                  <mat-cell *matCellDef="let item">
                    
                  </mat-cell>
                </ng-container>
                <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
                <mat-row *matRowDef="let row;columns:displayedColumns;"></mat-row>
              </mat-table>
          </div>
          </ng-template>
          <ng-template [ngIf]="IsAddSection">
            <div class="row">
              <div class="col-md-4">
                <div class="form-floating mb-3">
                  <input
                    type="text"
                    class="form-control"
                    id="floatingInput"
                    placeholder="Customer Name" [(ngModel)]="customerMasModel.customername"
                  />
                  <label for="floatingInput">Customer Name</label>
                </div>
              </div>
              <div class="col-md-4">
                <div class="form-floating mb-3">
                  <input
                    type="text"
                    class="form-control"
                    id="floatingInput"
                    placeholder="Mobile No." [(ngModel)]="customerMasModel.mobileno"
                  />
                  <label for="floatingInput">Mobile No.</label>
                </div>
              </div>
              <div class="col-md-4">
                <div class="form-floating mb-3">
                  <input
                    type="text"
                    class="form-control"
                    id="floatingInput"
                    placeholder="Phone No." [(ngModel)]="customerMasModel.phoneno"
                  />
                  <label for="floatingInput">Phone No.</label>
                </div>
              </div>
            </div>
            <div class="row">
              <div class="col-md-4">
                <div class="form-floating mb-3">
                  <input
                    type="text"
                    class="form-control"
                    id="floatingInput"
                    placeholder="Email" [(ngModel)]="customerMasModel.email"
                  />
                  <label for="floatingInput">Email</label>
                </div>
              </div>
              <div class="col-md-4">
                <div class="form-floating mb-3">
                  <input
                    type="text"
                    class="form-control"
                    id="floatingInput"
                    placeholder="Address" [(ngModel)]="customerMasModel.address"
                  />
                  <label for="floatingInput">Address</label>
                </div>
              </div>
              <div class="col-md-3">
                <div class="form-floating mb-3">
                  <select
                    class="form-select" [(ngModel)]="customerMasModel.locationid"
                    id="floatingSelect"
                    aria-label="Floating label select example"
                    (change)='onOptionsSelected($event)'>
                    <option></option>
                    <ng-container *ngIf="this.CityStateDropDown && this.CityStateDropDown.length > 0">
                      <option *ngFor="let item of CityStateDropDown" [value]="item['locationid']">{{item['locationname']}}</option>
                    </ng-container>
                  </select>
                  <label for="floatingSelect">Location</label>
                </div>
              </div>
              <div class="col-md-1 mt-2">
                <i class="bi bi-plus-circle fs-3 text-success" data-bs-toggle="modal" data-bs-target="#exampleModalCenter" 
                (click)="OpenDialog()"></i>
                <i class="bi bi-pencil-square mx-3 fs-3 text-primary"></i>
              </div>
            </div>
            <div class="row">
              <div class="col-md-4">
                <div class="form-floating mb-3">
                  <input
                    type="text" readonly="true"
                    class="form-control"
                    id="floatingInput"
                    placeholder="City" [(ngModel)]="customerMasModel.cityname"
                  />
                  <label for="floatingInput">City</label>
                </div>
              </div>
              <div class="col-md-4">
                <div class="form-floating mb-3">
                  <input
                    type="text" readonly="true"
                    class="form-control"
                    id="floatingInput"
                    placeholder="State" [(ngModel)]="customerMasModel.statename"
                  />
                  <label for="floatingInput">State</label>
                </div>
              </div>
              <div class="col-md-4">
                <div class="form-floating mb-3">
                  <input
                    type="text"
                    class="form-control"
                    id="floatingInput"
                    placeholder="Pin Code" [(ngModel)]="customerMasModel.pincode"
                  />
                  <label for="floatingInput">Pin Code</label>
                </div>
              </div>
            </div>
            <div class="row">
              <div class="col-md-4">
                <div class="form-floating mb-3">
                  <input
                    type="text"
                    class="form-control"
                    id="floatingInput"
                    placeholder="Account No." [(ngModel)]="customerMasModel.accountno"
                  />
                  <label for="floatingInput">Account No.</label>
                </div>
              </div>
              <div class="col-md-4">
                <div class="form-floating mb-3">
                  <input
                    type="text"
                    class="form-control"
                    id="floatingInput"
                    placeholder="GST No." [(ngModel)]="customerMasModel.gstno"
                  />
                  <label for="floatingInput">GST No.</label>
                </div>
              </div>
              <div class="col-md-3">
                  <div class="form-floating mb-3">
                    <input
                      type="text"
                      class="form-control"
                      id="floatingInput"
                      placeholder="Opening Balance" [(ngModel)]="customerMasModel.openingbal"
                    />
                    <label for="floatingInput">Opening Balance</label>
                  </div>
                </div>
                <div class="col-md-1">
                  <div class="form-floating mb-3">
                    <select class="form-select" id="floatingSelect"  [(ngModel)]="customerMasModel.openingbalmode">
                          <option></option>
                          <option value="1">DR</option>
                          <option value="2">CR</option>
                        </select>
                        <label for="floatingSelect">Payment</label>
                  </div>
                </div>
            </div>
          </ng-template>
        </div>
      </div>
      <div class="card-footer">
          <div class="text-end">
              <button class="btn btn-primary" style="width: 10%;" (click)="save()">Save</button>
          </div>
      </div>
    </div> 
  
  
  
    <div class="modal fade" id="exampleModalCenter" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenter" aria-hidden="true">
      <div class="modal-dialog modal-xl modal-dialog-centered" role="document">
        <div class="modal-content">
          <div class="modal-header bg-info text-white fw-bold">
            <h5 class="modal-title fs-4 " id="exampleModalLongTitle">Add New Location</h5>
          </div>
          <div class="modal-body">
            <div class="row">
              <div class="col-md-4">
                <div class="form-floating mb-3">
                  <input
                    type="text" readonly="true"
                    class="form-control"
                    id="floatingInput"
                    placeholder="Location" [(ngModel)]="LocationName"
                  />
                  <label for="floatingInput">Location</label>
                </div>
              </div>
              <div class="col-md-4">
                <div class="form-floating mb-3">
                <select class="form-select"
                id="PartyName" name="PartyName">
                <option value="0"></option>
                <option *ngFor="let item of CityList" [value]="item['Id']">
                  {{ item["Name"] }}
                </option>
              </select>
                  <label for="floatingSelect">City</label>
                </div>
              </div>
            </div>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
            <button type="button" class="btn btn-primary">Save</button>
          </div>
        </div>
      </div>
    </div>